---
title: 备忘小贴士
categories:
- 常用技巧
tags:
- Javascript
abbrlink: HAtJL26S0UG_FMXybGzlCQ
date: 2016-06-27 15:46:53
updated: 2016-09-5 11:10:49
---
这里记录一些平时收集到的代码，存档备忘一下
<!-- more -->

1. for in 循环中如何取得序号index？
```javascript
  for (let key in item) {
      console.log(Object.keys(item).indexOf(key));
  }
```

2. form表单取值 json序列化？
```javascript
  $.fn.serializeFormJSON = function () {
    var o = {};
    var a = this.serializeArray();
    $.each(a, function () {
        if (o[this.name]) {
            if (!o[this.name].push) {
                o[this.name] = [o[this.name]];
            }
            o[this.name].push(this.value || '');
        } else {
            o[this.name] = this.value || '';
        }
    });
    return o;
  };
```

3. url取参数值
```javascript
  function urlArgs() {
    var args= {};
    var query= location.search.substring(1);
    var pairs= query.split("&");
    for(var i=0; i<pairs.length; i++){
      var pos= pairs[i].indexOf('=');
      if(pos == -1) continue;
      var name= pairs[i].substring(0,pos);
      var value= pairs[i].substring(pos+1);
      value= decodeURIComponent(value);
      args[name]= value;
    }
    return args
  }
```

4. 上传文件
```
<!--html文件-->
<input type="file">选择图片
```
```
/*css文件*/
input{
    opacity: 0;
    filter: alpha(opacity=0);
    cursor: pointer;
    position: absolute;
}
```
```javascript
//js文件
$('input[type="file"]').on('change',function(){
  var formData= new FormData();
  if(this.files.length<=0){
    return false;
  }
  if(this.files[0].type.indexOf('image') === -1) {
    alert("请选择正确图片文件！");
    return false;
  }       
  if (Math.floor(this.files[0].size/1024) > 3000) {
    alert("上传文件不得超过2M!");
    return false;
  }; 
  formData.append('filedata',this.files[0]);
  console.log(formData)
});
```
# Atom

1. mac下面隐藏目录树中的 `.DS_Store`文件：

 * Setting——Packages——搜索tree-view——setting——Hide Igonored Names


2. 一些好用的插件：

 * pigments、minimap、file-icons
 * Markdown-scroll-sync：这个我觉得是必装的。可以让左边的markdown和右边的预览同步，左边往下翻了，右边也下去。
 * Markdown-pdf：输出PDF就靠它了，直接输出在md文档所在目录。